import{ah as g,M as N,_ as V,P as $,ad as y,c as p,s as b,a as k,f as c,N as q,ac as J,ai as P,J as S,w as W,aj as z,q as A,e as B,a4 as D,h as _,y as F,a7 as G,i as H}from"./runtime.BsiJ2hp_.js";import{a as I,r as j,h}from"./events.Bje-08iu.js";import{r as O}from"./svelte-head.hG2DquCA.js";import{b as R}from"./disclose-version.CyaTdpPh.js";const T=["touchstart","touchmove"];function Y(a){return T.includes(a)}function Z(a,e){var o=e==null?"":typeof e=="object"?e+"":e;o!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=o,a.nodeValue=o==null?"":o+"")}function x(a,e){return C(a,e)}function K(a,e){g(),e.intro=e.intro??!1;const o=e.target,u=_,f=c;try{for(var t=N(o);t&&(t.nodeType!==8||t.data!==V);)t=$(t);if(!t)throw y;p(!0),b(t),k();const d=C(a,{...e,anchor:t});if(c===null||c.nodeType!==8||c.data!==q)throw J(),y;return p(!1),d}catch(d){if(d===y)return e.recover===!1&&P(),g(),S(o),p(!1),x(a,e);throw d}finally{p(u),b(f),O()}}const i=new Map;function C(a,{target:e,anchor:o,props:u={},events:f,context:t,intro:d=!0}){g();var m=new Set,w=s=>{for(var n=0;n<s.length;n++){var r=s[n];if(!m.has(r)){m.add(r);var v=Y(r);e.addEventListener(r,h,{passive:v});var M=i.get(r);M===void 0?(document.addEventListener(r,h,{passive:v}),i.set(r,1)):i.set(r,M+1)}}};w(W(I)),j.add(w);var l=void 0,E=z(()=>{var s=o??e.appendChild(A());return B(()=>{if(t){D({});var n=H;n.c=t}f&&(u.$$events=f),_&&R(s,null),l=a(s,u)||{},_&&(F.nodes_end=c),t&&G()}),()=>{var v;for(var n of m){e.removeEventListener(n,h);var r=i.get(n);--r===0?(document.removeEventListener(n,h),i.delete(n)):i.set(n,r)}j.delete(w),L.delete(l),s!==o&&((v=s.parentNode)==null||v.removeChild(s))}});return L.set(l,E),l}let L=new WeakMap;function Q(a){const e=L.get(a);e&&e()}export{K as h,x as m,Z as s,Q as u};
