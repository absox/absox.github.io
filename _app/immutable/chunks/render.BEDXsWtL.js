import{aj as g,M as E,_ as N,P as V,ad as y,l as p,s as b,i as $,o as c,N as q,ac as J,ak as P,J as S,w as W,al as z,q as A,n as B,a4 as D,h as _,y as F,a7 as G,c as H}from"./runtime.CihvSwKW.js";import{a as I,r as j,h as m}from"./events.Bnxny7e1.js";import{r as O}from"./svelte-head.Oofj7bQb.js";import{b as R}from"./disclose-version.6CFbjw_q.js";const T=["touchstart","touchmove"];function Y(a){return T.includes(a)}function Z(a,e){var o=e==null?"":typeof e=="object"?e+"":e;o!==(a.__t??(a.__t=a.nodeValue))&&(a.__t=o,a.nodeValue=o==null?"":o+"")}function k(a,e){return x(a,e)}function K(a,e){g(),e.intro=e.intro??!1;const o=e.target,u=_,f=c;try{for(var t=E(o);t&&(t.nodeType!==8||t.data!==N);)t=V(t);if(!t)throw y;p(!0),b(t),$();const i=x(a,{...e,anchor:t});if(c===null||c.nodeType!==8||c.data!==q)throw J(),y;return p(!1),i}catch(i){if(i===y)return e.recover===!1&&P(),g(),S(o),p(!1),k(a,e);throw i}finally{p(u),b(f),O()}}const d=new Map;function x(a,{target:e,anchor:o,props:u={},events:f,context:t,intro:i=!0}){g();var h=new Set,w=s=>{for(var n=0;n<s.length;n++){var r=s[n];if(!h.has(r)){h.add(r);var v=Y(r);e.addEventListener(r,m,{passive:v});var M=d.get(r);M===void 0?(document.addEventListener(r,m,{passive:v}),d.set(r,1)):d.set(r,M+1)}}};w(W(I)),j.add(w);var l=void 0,C=z(()=>{var s=o??e.appendChild(A());return B(()=>{if(t){D({});var n=H;n.c=t}f&&(u.$$events=f),_&&R(s,null),l=a(s,u)||{},_&&(F.nodes_end=c),t&&G()}),()=>{var v;for(var n of h){e.removeEventListener(n,m);var r=d.get(n);--r===0?(document.removeEventListener(n,m),d.delete(n)):d.set(n,r)}j.delete(w),L.delete(l),s!==o&&((v=s.parentNode)==null||v.removeChild(s))}});return L.set(l,C),l}let L=new WeakMap;function Q(a){const e=L.get(a);e&&e()}export{K as h,k as m,Z as s,Q as u};
